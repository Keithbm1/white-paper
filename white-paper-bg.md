# Декларация за отказ от отговорност

Цялата информацията, изложена в тази "бяла книга" носи предварителен характер. 
Следователно нито авторите, нито който и да е от свързаните с тях лица поемат каквато и да е отговорност относно това, че информацията, изложена в този документ е окончателна или достоверно точна и всеки от изброените лица носи отказ от отговорност, 
до максимална степен, която разрешена от съществуващото законодателство, от всякаква отговорност независимо дали произтича от някакъв вид правонарушение, договор или е свързана с тази "бяла книга" по друг начин. 
Нито предложената "бяла книга", нито каквато и да е информаиця, съдържаща се в нея не може да служи като основание за спор или да бъде използвана за такова или да действа като подканване за сключване на какъвто и да е договор или ангажимент. 

Нищо в тази "бяла книга" не представлява оферта за продажба или подкана към покупка на токени, обсъждани в документацията.
Във всеки случай, ако в някои места тази "бяла книга" ще се разглежда като подобно предложение или подкана, заявяваме, че никакво подобно предложение или подкана са били намерение или цел от настоящата документация във всяка юрисдикция, където това е незаконно, 
където подобна оферта или подкана изискват лиценз или регистрация, или където подобна оферта или подкана подлежат на ограничения. 
По-специално, всички токени, за които ще става въпрос в документацията не са били, и към датата на издаване на тази "бяла книга" не са предназначени да бъдат регистрирани съгласно законите, касаещи ценни книжа на която и да е юрисдикция, 
и дали тази юрисдикция приема или не токени като като вид ценни книжа или подобен инструмент и не може да се предлага или продава в която и да е юрисдикция, където подобни действия представляват нарушение на съответнните закони на тази юрисдикция. 


# Лиценз

Изходният код [^src] на даденият документ е достъпен под лиценз на Creative Commons Attribution-ShareAlike 4.0 International[^cc] .

[^src]: See: @sources
[^cc]: See: @cc


# Въведение

Интернет пространството е съставено предимно от проекти с отворен код и е бил такъв от самото му създаване. 
С течение на времето, много от тези проекти са се превърнали във фундаментални, върху които са изградени всички последващи иновации. 
И докато върху тази технология бяха изградени цели състояния, отворения код основно се създава и поддържа без компенсации. 

Ние смятаме, че цялата съвременна човешка дейност е закърняла поради факта, че разчита основно на малък процент инженери от целия свят, които са принудени да избират между заплата и поддържане на Интернет дейността. 
Отвореният код е продукт на грижовен труд, често възпрепятстван от липса на значими икономически стимули, водещи до невъзможност на наистина значими проекти да достигнат своя потенциал, при други проекти възникват проблеми със сигурността поради липса на достатъчно стимули за поддържане на софтуера.
За да се реализира напълно потенциала е необходимо създаване на справедлива система на възнаграждения към цялата екосистема с отворен код, което обаче не променя фундаментално начина, по който е изградена или използвана. 

Предприятията често използват бизнес модели свързани с отворения код, генеририрайки приходи директно от работата на добросъвестните разработчици, докато разчита на тях за коригиране на грешки при възникване на проблеми. 
Чудесен пример е скорошният инцидент, включващ критична уязвимост на сигурността в Log4j, пакет от Apache Software Foundation, който намери своето приложение в много от търговските софтуери и услуги, използвани от различни предприятия и от правителството. 
През Ноември 2021г, изследовател по сигурността, работещ за Alibaba Group Holding Ltd. съобщава за уязвимост CVE-2021-44228[^1], която получава най-висока възможна оценка от Apache Software Foundation. 
Amit Yoran, Главен изпълнителен директор на Tenable и директор основател на United States Computer Emergency Readiness Team (US-CERT), описа този вид уязвимост като “най-голямата и най-критична уязвимост от последното десятилетие”[^2].
След тези събития последва паника и няколко доброволци, отговорни за поддръжка на въпросния пакет, бяха публично критикувани за провала. 
След като в отговор на възникналото възмущение се появи скромна молба за възстановяване на справедливост, системите бяха поправени. 
Предприятията и правителствата разбраха в крайна сметка, че Log4j, пакет, използван от голям брой критично важни системи в продължение на две десятилетия, беше поддържан от няколко доброволци за собсвена сметка, същите невъзпяти герои, които се впускат в действие въпреки злоупотребите от индустрията[^3] и работят неуморно за справяне с уязвимостта.

За съжаление Log4j далеч не е единственият пример.
core-js се изтегля 30 милиона пъти седмично като база за всяко Node.js приложение, което също така почти не се финансира. 
Наскоро няколко от основните биткойн разработчици подадоха оставка, посочвайки наред с други причини *липса на финансова компенсация* за решението си.

Отбелязваме многобройни опити за предлагане на различни структури за стимулиране, обикновено включващи системи за спонсорство и различни награди.
Системите за спонсорство дават възможност за потребителите, използващи отворен код да даряват в полза на проекти, които те самите предпочитат. 
Въпреки това, представете си отворения код като кула от тухли, където долните слоеве са отдавна забравени, но все още поддържани от отдадени на каузата инженери и където все още се разчита на доста разработчици. 
Обикновено само проектите на върха на кулата са известни и получават спонсорство. 
Този вид избирателна селекция води до това, че тухлите в основата, които поддържат цялата кула без да привличат дарения, докато горните предпочитани тухли получават повече, отколкото им е необходимо. 
Наградите позволяват на потребителите на проекти възможности за предлагане на плащане на разработчиците за изграждане на специфични функции, като по този начин се предлага възнаграждение за проекти, които извършват дейности, не задължително в техен интерес. 
И отново, награждават се само фаворитите.

В този документ, ви представяме tea — децентрализирана система за справедливо възнаграждение на разработчиците с отворен код въз основа на техния принос към цялата екосистема, въведена чрез алгоритъма за финансово стимулиране, прилаган за всички записи в регистъра на tea.

![Simplified view of the tea steeping rewards system.](img/figure-1.svg)

$\parskip=0pt plus 1pt$

[^1]: Source: @nist
[^2]: Source: @reuters
[^3]: Source: @twitter


# Компоненти

Всеки разработчик на софтуер, създаващ приложения, се нуждае от четири неща: браузър, терминал, редактор и мениджър на пакети.
От изброените четири неща, мениджърът на пакети е това, което контролира инструментите и основите, необходими на разработчика, за създаването на своя продукт.
Точно това ниво представлява елемента, където виждаме потенциала за промяна на начина, по който се възнаграждава отвореният код. 

## Мениджър на пакети

В самия мениджър на пакети е заложено да знае от какъв софтуер с отворен код зависи функционирането на дадено приложение, от върха на кулата до основата.
Всеки компонент и версия, които са от съществено значение за приложението, са известни и записани. 
Той знае, че върхът на кулата внимателно избира своите зависимости и този прецизен подбор продължава надолу. 
Мениджърът на пакети заема уникално място в стека с инструменти за разработчици, за да позволи автоматизирано и прецизно разпределение на стойности въз основа на действителното им използване в реалния свят. 

Ние предлагаме неизменен децентрализиран регистър, предназначен за разпределяне на стойност въз основа на алгоритъм, определящ приноса на всеки запис към полезността и здравето на системата.
Стойността може да стане част от графиката във връхните точки – приложения и основни библиотеки – и да бъде разпределена към зависимостите на тези връхни точки рекурсивно, тъй като регистърът познава цялата графика с отворен код. 

Също така смятаме, че съществена информация трябва да бъде достъпна чрез мениджъра на пакети, за да могат разработчиците да направят прецененка дали да се доверят на избрания пакет и неговия автор. 
Дадена информация може да се основава на репутация, позитивни отзиви откъм общността, данни, извлечени от системи за децентрализирана самоличност (DID[^4]), други мениджъри на пакети или механизми за финансово стимулиране, които потенциално разчитат на участници в мрежата, излагащи на риск икономическата стойност. 

Предвиждаме, че комбинацията от инструменти, информация и награди на tea справедливо ще стимулират разработчиците, помагайки за стимулиране на развитието на софтуера с отворен код и насърчавайки иновациите. 

[^4]: See: @w3

## Децентрализираният регистър

Всеки един от мениджърите на пакети има свой собствен регистър на пакети, който дублира едни и същи метаданни многократно.
Дойде време за създаване на единен, пълен и окончателен регистър, проектиран и управляван от общностите, които зависят от него.
Такъв тип децентрализиран, постоянен регистър може да осигури сигурност, стабилност и да предотврати 
злонамерени намерения.

Интернет работи с десетки хиляди жизненоважни компоненти с отворен код. 
Интересен факт е, че досега инцидентите, причинени от премахването на основна инфраструктура с отворен код, са минимални. 
Най-известниятият пример беше премахването на зависимостта на NPM left-pad[^5] през 2016 г., която каскадно оказа влияние върху системите за непрекъсната интеграция и непрекъснато внедряване, оставяйки разработчиците без финансиране в продължение на дни. 
Това събитие показа, че самият интернет е основан върху крехки системи за разработка. 
Другите примери включват активно или умишлено участие от поддържащите пакети, саботиращи техните популярни пакети (вижте colors.js, faker.js[^6], и node-ipc[^7]),
или лоши участници, които искат да спечелят, като се преструват, че помагат в поддръжката на пакети и ги повреждат за да крадат, например, Bitcoin частни ключове (Вижте event-stream[^8]),
или злонамерени пакети с умишлени правописни грешки, известни също като typosquatting, 
чиято цел е да подмамят потребителите за да ги инсталират, например пакети crossenv vs. cross-env NPM [^npmjsCrossenv].

Целостта на софтуера трябва да бъде гарантирана, докато цялата индустрията напредва към бъдещето, в което цифровите активи ще са част от самия софтуер. 
Нив не можем да позволим да се оставяме уязвими към злонамерените участници, модифициращите софтуера. 

Повечето инструменти, които наричаме мениджъри на пакети, не могат да гарантират, че тези пакети, вградени в приложенията и dApps, представляват непроменен код с отворен код, публикуван от оригиналните им автори. 
В GitHub на Microsoft се установи, че 17% от уязвимостите в софтуерните програми са създадени със злонамерени цели[^9], като някои от тях остават неоткрити за дълъг период от време (See Webmin 1.890[^10]).

Децентрализираният регистър, подкрепен от система за репутация и от икономическите стимули, създадени да разкриват лошите участници и да възнаграждават добрите участници, може да предостави необходимите гаранциите, които общностите на разработчиците толкова търсят. 

[^5]: Source: @theregister
[^6]: Source: @fossa
[^7]: Source: @lunasec
[^8]: Source: @github
[^npmjsCrossenv]: Source: @npmjsCrossenv
[^9]: Source: @zdnet
[^10]: Source: @threatpost


## Система за съхранение

Пакетите с отворен код предоставят широк набор от функции, някои от които може да са ограничени или нежелани. 
Шифроването е отличен пример за това.
Важен случай за използване на криптирането е поддържането на поверителността на хората по целия свят. 
Шифроването също така може да се използва и за нечестни цели (вижте Phantom Secure, демонтиран от правоприлагащите органи през март 2018[^11]) или може да бъде компрометирано, за да се подкрепят дейностите на правоприлагащите органи (Вижте Операция Ironside (AFP), Операция Greenlight (Europol),
и Операция Trojan Shield (FBI)[^12], където ФБР управляваха „криптирана“ комуникационна платформа, AN0M, и убеждават престъпниците да използват своите „криптирани“ телефони за сигурна комуникация). 

Голямото приложение на криптирането го превърна в идеален случай за използване на софтуер с отворен код и чудесен пример, че всяко решение, което съхранява пакети, трябва да бъде защитено от подправяне и цензура. 
tea е децентрализиран протокол, който не е предназначен за филтриране или санкциониране на пакети въз основа на тяхната функционалност. 
Докато управлението на tea може да избере да премахне доказано злонамерени пакети (вижте раздела за управление за повече информация), за системата tea е от решаващо значение да се свърже с множество системи за съхранение, включително децентрализирани, които показват, че пакетът е непроменен и правилно репликиран.
Поддържащите пакети могат да изберат системата за съхранение, която е най-подходяща за техните нужди за сигурно съхранение и разпространение на своите пакети.

[^11]: Source: @fbi
[^12]: Source: @europol

# Участници в мрежата

Мисията на проекта tea е да даде по-голяма възможност на общностите с отворен код и да гарантира подкрепа за техните сътрудници, създаващи инструментите за изграждане на интернет.
В настоящата "бяла книга" ние ще разпределим участниците съответно техния принос. 
Някои може да допринесат чрез създаване на код или да потвърждаване на вече създаден такъв.
Други могат да предоставят икономическа стойност в подкрепа на разработчиците и тяхната репутация. 

## Специалисти, поддържащи пакетите

Разработчиците на пакети трябва да се уверени, че техният софтуер продължава осигуряване на нарастващите изисквания в крак с развитието на индустрията. 

tea предполага, че създателите на пакети постоянно следят и поддържат тяхната работа. 
Разработчиците на пакети представляват основа на общностите с отворен код, които трябва да бъдат овластени и възнаградени за техния постоянен принос.
Създателят на пакет може да реши да прекрати своите усилия по поддръжка или да разбере, че темпа, с който от него се очаква да работи, не отговаря на очакванията на потребителите на пакета. 
Създателите на пакети получават незаменими токен (NFT), когато завършат изпращане на пакета (вижте раздела NFT на създателите за допълнителни подробности). 
Самият NFT се използва кето доказване на реззултат от тяхната работа и е ключът, който определя наградите на tea. 
Притежателите на NFT пакети имат възможност да прехвърлят собствеността си на друг разработчик (или група разработчици), като по този начин ги прави поддържащи пакета и получатели на всякакви бъдещи награди. 
Също така, разработчикът може да реши да поеме ролята на поддържащ пакета, чрез форк на съществуващия пакет и изпрати нов, който ще поддържа занапред, като по този начин сам стане създател и поддържащ пакета. 

Важно е да предоставим на общностите от разработчици правилните инструменти, за да се определят кои пакети се поддържат, а също така репутацията и качеството на поддръжката на техните разработчици, предишни или настоящи. 
Честа практика е работата на специалистите с отворен код да се подправя и усилията на мнозина да се съсипват от недобросъвестни участници. 
Въпреки че дейността на тези недобросъвестни участници е до голяма степен разкрита и коригирана, наблюдаваме чести случаи тяхната дейност да остане не разкрита, докато не бъдат нанесени значителни щети поради финансова загуба или загуба на данни. 
Да вземем за пример пакет EventStream npm[^13], който беше изтеглен над 1.5 милиони пъти седмично и използва над 1,500 пакета, когато хакер успя да проникне в проекта с отворен код,  
да спечели доверието на първоначалния разработчик и да модифицира EventStream, по начин, по който той да стане зависим от злонамерен пакет, предаващ идентификационните данни на биткойн портфейла към сървър от трета страна\.
Въпреки че инструментите могат да помогнат за откриването на някои от тези атаки, на тях не винаги може да се разчита, което създава една цяла общност, зависима от усърдието и желанието на всички участници да споделят своите открития. 

Ние предлагаме въвеждане на стимули чрез tea токен, описан в секцията "tea токен", като насърчаваме общностите с отворен код да докладват своите констатации конструктивно и навреме, така че поддържащите пакетите специалисти да могат да се справят с тях, преди да бъдат експлоатирани. 

[^13]: Source: @medium

## Участници, използващи пакети

Участниците, използващи пакетите са софтуерни разработчици, фокусирани върху решаването на специфични проблеми.  
Те често търсят в общността с отворен код инструментите, от които се нуждаят, за да ги използват за бързо експериментиране без големи финанансови плащания, като се възползват директно от работата на създателите и на тези, поддържащите пакети. 
Обикновено, една част от групата може да е избрала да подкрепи поддържащите пакетите чрез дарения или други форми на възнаграждение; това обаче рядко се случва. 

Спонсорството може да представлява ефективна система за подпомагане на разработките с отворен код; обаче, възнаграждението обикновено не обхваща всички зависимости. 
Това ограничение е изгодно на фаворитите и пречи на иновациите и изграждането на софтуера. 
За да се превърне в основа на софтуерни разработки, отвореният код трябва да дава възможност на всички разработчици, независимо дали са начинаещи или експерти, във всички слоеве на кулата. 

Целта на tea е да поддържа основните ценности на софтуера с отворен код, като същевременно предоставя децентрализирана система за възнаграждение на участниците, поддържащи пакети за тяхната работа. 
За да изпълни тази мисия, tea възнамерява да разработи — и да стимулира другите да разработват — механизми, позволяващи на потребителите на пакети, да подкрепят участниците поддържащи пакети чрез използване на токена tea, както е описано в разделa "tea токен" и в секциите за бъдеща работа и потенциални усилия на общността.

## Поддръжници и спонсори на пакета

В Web 2.0 и web3, поддръжниците на пакета често са наричани „спонсори“. Те представляват организации или потребители на пакети, които използват софтуери с отворен код, за да създават свои търговски продукти, филантропи, подкрепящи екосистемата, или предприемачи, с намерение за финансиране на екипи за разработка на компоненти от по-голяма система. 

tea предлага разширяване на общностите от поддръжници на пакети към цялата tea общност, независимо дали са организации, разработчици, потребители или технологични ентусиасти. 
Целта нa проекта tea е прилагане на децентрализирани механизми за стимулиране чрез уникални случаи на използване на tea токенa за всеки член от tea общността, за допринaсяне на постоянната устойчивост и непрекъснат растеж на екосистемата с отворен код. 
Поддръжниците и спонсорите на пакети сами са свободни да решават кои пакети или поддържащи пакети искат да подкрепят въз основа на тяхната работа, убеждения или други критерии и показатели, които биха повлияли на тяхното решение. 
Освен това поддръжката, осигурена от участниците подкрепящи пакетите и спонсорите на пакети, ще се простира към зависимостите на всеки пакет, като по този начин неявно се доверява на поддържащият пакета да направи добър избор относно стека и да използва тази информация, за да допринесе за тяхната репутация. 

При условие, че поддържащият пакет предлага такава услуга, поддръжникът и спонсорът на пакета могат да получат в замяна първокласно ниво на NFT поддръжка, като по този начин се възползват от ускорени SLA или по-гъвкаво лицензиране. 
Освен това поддръжниците и спонсорите на пакети могат да решат да подкрепят пакети или разработчиците на пакети и автоматично да пренасочат всички или процент от своите награди, за да стимулират екипите да създават нов софтуер с отворен код.
С други думи, не е необходимо да съществуват пакети, за стартиране на tea процеса. 
Проектите в начален стадий могат да бъдат подкрепяни също толкова добре, колкото и тези, които съществуват отдавна, което допълнително стимулира непрекъснато развиващата се екосистема с отворен код. 

## tea дегустатори

След като постоянно се издават нови пакети или нови версии на съществуващите пакети, валидността на работата трябва да бъде демонстрирана по доказуем начин. 
Тази информация е от решаващо значение за потребителите на пакета, за да вземат решат дали да се доверят или не както на пакета, така и на поддържащите го специалисти. 
В случай с tea протокола, тази функция се осигурява от tea дегустаторите.

tea дегустаторите, обикновено, са опитни софтуерни разработчици, готови да посветят част от времето си, за проверка на твърденията, свързани с пакетите (функционалност, сигурност, семантична версия[^14], точност на лиценза, др.)
и залагат както репутацията си, така и финансовите си приходи, за да демонстрират резултатите от своите изследвания и анализи в подкрепа на своите твърдения.
tea дегустаторите получават награди за старанията и усилията си.
В tea, ние наричаме „накисване на вашия чай“ действието на заключване на tea токени, за да поддържате вашите твърдения и да получавате награди (или санкции) въз основа на консенсуса относно валидността на вашите твърдения. 

Подобно на поддръжниците на пакета, tea дегустаторите могат да окажат влияние върху пакета и репутацията на поддържащия пакет; обаче тяхното въздействие обаче е по-значимо, като се вземе предвид тяхната роля при валидирането на сигурността, функционалността и качеството на пакета. 
tea дегустаторите също така ще трябва да изградят репутацията си, за да подкрепят твърденията си.
Качеството на тяхната работа и икономическата стойност, която излагат на риск, докато подготвят рецензиите си, съчетани с други външни източници на данни, ще изградят репутацията на всеки tea дегустатор, придавайки повече стойност на работата им. 
Вижте раздела "репутация на пакета" за повече подробности относно механизмите, използвани за повлияване на пакета и репутацията на поддържащия пакет.

[^14]: See: @semver

# Преглед на протокола

Дизайнът на протокола за възнаграждение на приноса към системата с отворен код е пълен с предизвикателства. 
По подразбиране софтуерът с отворен код е отворен за всички и в резултат на това може да бъде подложен на погрешно пренаписване, присвояване или злонамерено подправяне. 
Въпреки това, общността с отворен код постоянно демонстрира готовността си да разкрива добрите участници или недоброжелателни такива. 
През изминалите години, усилията, изразходвани за преглед и коментиране на приноса на други разработчици, са били строго доброволни, въпреки това, че тези усилия отнемат много време и може да са решаващи при докладването и защитата на констатациите при откритията. 

Нашата цел е създаване на платформа за разпространение на приложения без доверители, осигурена от репутация и финансови стимули, тъй като вярваме, че адекватните награди за принос към системата с отворен код няма да са успешни без изградена система за репутация, и способността на членовете на общността да съобщават своите констатации и подкрепа (или несъгласие) за определен пакет или работа на разработчик. 

Необходимо е да предоставим на разработчиците инструменти за достъп и принос към изграждането на системата за репутация. 
Инструменти, които включват прост визуален и програмируем достъп до версията и репутацията на всички зависимости в техните пакети. 
Ясното разбиране на това кои членове от общността подкрепят всеки пакет и колко tea токени те заключват, ще допринесе за репутацията на всеки пакет, точно както доколко поддържащият пакет "накисва" работата си, съобщава колко от тях подкрепят работата си. 
Тези комбинирани точки от данни помогат за информиране и създаване на система за репутация за всички членове на общността и с това улесняват избора. 
След като хакването на пакета EventStream не е било извършено чрез самия пакет, а чрез една от неговите зависимости, видимостта във всички слоеве на зависимости е жизненоважна за изграждането на тази надеждна система. 
Обаче подобни съображения като изчислителни и транзакционни („газ“) разходи ще трябва да имат приоритет при проектирането и изграждането на системата. 

Нашата цел е честно възнаграждение на разработчиците както на Web 2.0 така и на web3 екосистемите.
Тънкостите и спецификите на всеки стек водят до това, че при проследяването на инсталирани и деинсталирани пакети, те може лесно да се превърнат в жертва на един или повече злонамерени участници. 
Това включва „купуване“ на инсталации за изкуствено увеличаване на числата. 
Още по-лош сценарий би бил въвеждането на фундаментални промени в природата на софтуера с отворен код чрез създаване на допълнителни затруднения при използване на лицензни ключове или други механизми за проследяване на внедряването. 
За да осигурим по-голямо въздействие, ние вярваме, че наградите не трябва да разчитат на опростена представа за проследяване на инсталирани и деинсталирани пакети, а по-скоро на механизми за стимулиране, които насърчават подаването на качествени пакети и докладването на злонамерени или високорискови пакети. 
И накрая, много пакети разчитат на общи зависимости. 
Наприме, Lodash има 151,209 зависимости[^15] докато chalk има 78,854 зависимости[^16] или Log4js има 3,343 зависимости[^17].
След като повече пакети се създават с помощта на едни и същи зависимости, как да гарантираме, че стимулите се разпределят честно и справедливо? 
Как да гарантираме, че най-използваните зависимости са възнаградени, без да останат без възнаграждение нови или нововъзникващи пакети и разработчици? 
Как да гарантираме, че изградената системата за стимули в крайна сметка не отклонява разработчиците от по-специализираните езици, в полза на централизираните, където стимулите са по-добри? 
Но също така, като разработчици, как да сме сигурни, че ще идентифицираме пакети с най-големи зависимости, за да изградим алтернативи - по-прости, по-ефективни, по-добре кодирани версии на тези пакети? 
В tea вярваме, че липсата на стимули пречи на еволюцията на софтуера с отворен код.
Подкрепени от правилните икономически стимули и награди, повече разработчици ще бъдат в състояние да изградят, подобрят и разширят софтуера с отворен код за подобряването на цялата система.
Само тогава tea токенът ще може да представлява цялата стойност на софтуера с отворен код. 

[^15]: Source: @npmjsLodash
[^16]: Source: @npmjsChalk
[^17]: Source: @npmjsLogFourjs

## Подаване на пакета

Представянето на пускането на пакета изисква множество транзакции да се извършват атомарно. 
По-конкретно, поддържащият пакет трябва да:

* Регистрира пакета (и неговата семантична версия) в децентрализираният регистър.
* Качи пакета в децентрализираната система за осигуряване на устойчивост към цензура и лесно разпространение. 
* Допринесе за репутацията и надеждността на пакета чрез *накисване*/заключване на tea токените. 

Неуспехът на която и да е от трите операции ще доведе до връщане на протокола към предишното му състояние, като по този начин ще елиминира всякакви доказателства за подаването. 

След като пакетът бъде изпратен успешно, поддържащият пакет ще получи NFT за поддържка, за да докаже своята работа и принос към отворения код. 
Поддържащият пакет може да трансферира наградите за заключване на токени, свързани с поддържащия NFT към трета страна. 
Въпреки това, репутацията, свързана със създаването и поддръжката на актива, ще остане при поддържащия пакет, така че неговата репутация може да бъде засегната с течение на времето. 
Когато репутацията на който и да е член на tea общността достигне ключови етапи, те получават възможност за достъп към определени по-високи нива от протокола или да получават по-бързо награди, както е решено от tea управлението.
За повече подробности относно поддържащите NFT вижте съответния раздел за NFT. 

### Анализ на зависимостите

Зависимостите на пакетите могат да бъдат дълбоки, тъй като всеки пакет често има както зависими компоненти, така и зависимости. 
За да предоставим проста методология, способстваща възнаграждаването на всички разработчици, които допринасят за изграждане на софтуер с отворен код, като същевременно запазват създаването на дървото на зависимостите бързо и изчислително ефективно, ние предлагаме проверяване само на зависимостите от първо ниво при подаването на пакет. 

Дизайнът е ръководен от хипотезата, че всяка зависимост сама по себе си е пакет, който е бил независимо изпратен от tea дървото. 
По този начин всяка от неговите зависимости може да бъде картографирана и ако самите нейни зависимости имат зависимости, те ще бъдат картографирани в момента на изпращане на пакета за зависимости. 

![Диаграма анализ на зависимостите.](img/figure-3.svg){#фиг:анализ-зависимости}


Във @фиг:анализ-зависимости, представяне на пакета A пуска  задейства анализ на зависимостите по време на изпълнение 1 чрез n и изгражда зависимост 1 чрез n, докато зависимостите по време на изпълнение 1.1 чрез 1.n и изгражда зависимости 1.1 чрез 1.n където са анализирани при при подаването на пакет B.
Ще приложим същата методология за разпределение на стимули, тъй като заключените токени се разпределят във всички зависимости, като по този начин рекурсивно накисваме "пакетите", посочени като зависимости (виж @фиг:заключване-награди).

![Разпределение на наградите между зависимостите.](img/figure-2.svg){#фиг:заключване-награди}


Версиите и противоречивите зависимости са значителни предизвикателства и отстраняването им може да отнеме много време.
За да решим този проблем, ние предлагаме всеки пакет да бъде подложен на цялостно сканиране на зависимости при изпращане така че можем да гарантираме, че пакетът отговаря на следните правила за семантика на диапазони на версиите.

* Пакетите могат да ограничат своите зависимости само до основна версия, въпреки че началото на диапазона може да представлява всяка валидна семантична версия (e.g., >=5.2.1 <6).
* Ако определена зависимост бъде ъпгрейдната до по-нова основна версия, tea може да изисква увеличаване на основната версия на пакета. 
* Подобно, ако дадена зависимост бъде надстроена до по-нова второстепенна версия, tea може да изисква увеличаване на второстепенната версия на пакета. 
* При добавяне на нова зависимост, tea може да изисква увеличаване на второстепенната версия на пакета. 

Имайки предвид ненужните усилия, наложени на всеки потребител на пакета, когато горните правила са нарушени, ние предлагаме част от tea токените, "напоени" от поддържащия пакета, да бъде намалени, за да се отрази липсата от полагане на необходимо усърдие. 
Ако разработчик принуждава всички да жонглират с чашите си, някой ще разлее малко чай. 
Тъй като се очаква сканирането на зависимостите да се извърши при подаване, трябва да отбележим, че няма да се случи "накисване" от поддръжници и спонсори на пакета или  tea дегустатори. 

## Пакет и репутация на поддържащия пакет

Поддържащите пакети трябва да допринесат за репутацията и надеждността на своя пакет чрез "накисване" на tea токените. 
Обаче, системата за репутация, разчитаща единствено на икономическия принос на автора, не осигурява достатъчна защита на потребителите и може да се превърне в обект на Sybil атаки, при които един човек създава множество представяния на себе си, за да остави голям обем положителни отзиви за работата си, 
карайки потребителите да повярват, че тяхната работа е прегледана и одобрена от много хора. 

Съществуват няколко методологии за предотвратяване на атаките на Sybil, някои от които са описани от Nitish Balachandran и Sugata Sanyal в “Преглед на техниките за смекчаване на атаките на Sybil”[^18].
Тъй като tea представлява децентрализиран протокол, използването на система за сертифициране на доверие, която разчита на централизиран орган за издаване на сертификати, би било в противоречие с неговата същност. 
Ние предлагаме да се съсредоточим върху децентрализирани подходи за смекчаване на атаките на Sybil и по-конкретно върху методологии, които разчитат на голяма група участници в мрежата, стимулирани да оценяват и представят публично репутацията на всеки пакет и неговия поддържащ. 

Подобно на производството на блокове в proof-of-stake блокчейн, където нодите, които не произвеждащите блокове могат да валидират работата на другите и, когато е необходимо, да подчертаят нарушение на правилата в мрежата, което води до санкциониране на лошите участници чрез слашинг (унищожаване на част от техния залог в стейкинг), 
ние предлагаме система, чрез която трети страни (известни още като tea дегустатори) имат възможност да преглеждат пакети, произведени от поддържащи пакети, и да бъдат икономически стимулирани да се държат в най-добрия интерес на общността на софтуера с отворен код и неговите потребители, както и да разпознават доброто и наказват недосбросъвестно поведение. 
Тази система трябва да бъде едновременно устойчива на Sybil и да не позволява на големите притежатели на токени да влияят съществено върху протокола или репутацията на конкретни пакети. 
Сигурни сме, че този подход е в по-голяма степен съобразен с отворения код, осигурявайки по-добър субстрат за насърчаване на приемането и доверието и в крайна сметка улесняващ развитието на tea проекта. 

[^18]: Source: @arxiv

## Преглед на пакета от трети страни

Съществен компонент в изграждането на репутация, е прегледът на пакети от трети страни, но такъв вид преглед има свой собствен набор от евентуални уникални заплахи, включително гореспоменатите атаки на Sybil. 

Блокчейн технологията и по-точбно стейкинг предлага уникална възможност за tea проекта да се справи с това предизвикателство. 
Въпреки че всеки може да си направи и използва толкова адреси на портфейли, колкото си поиска това не е така с tea токените, чието първоначално предлагане се очаква да бъде 10 милиарда. 
Освен това, всяко действие, извършено от разработчиците, като изпращане на пакети, проверка на пакети или "накисването" им, ще допринесе за тяхната репутация, като по този начин създава уникален профил, който всеки разработчик може да използва, за да участва както в tea общността, така и в tea управлението. 

Чрез изискване към рецензентите от трети страни да "заключват" tea токени и поемат риска от загуба на част от техните "заключени" токени, при положение, че ще се докаже, че се държат против интересите на мрежата или са недобросъвестни участници, трети страни могат да осигурят допълнителна достоверност на пакетите си и да получат награда под формата на tea токени. 

Ние също така предлагаме разширяване на системата за репутация към трети страни, които извършват независима проверка на пакетите - tea дегустатори. 
За приключване на положителен преглед ще се изискват две операции, които да се появят атомарно: 

* Подаването на прегледа на кода, който е подписан от tea дегустатора и публично достъпен за всички членове на общността, заедно с 
* Акта на накисване „за“ пакета (срещу „против“ пакета), за да бъде обоснован самия преглед. 

Завършването на отрицателен преглед, който включва наличие на една или повече критични уязвимости, ще изисква от tea дегустаторите първо да се свържат с поддържащия пакет, използвайки протокол за съобщения, за да уведомят за наличието на уязвимост и да им бъде позволено да решат проблема своевременно. 
След изтичане на определения от управлението период, определен на поддържащия пакета за справяне с тяхната уязвимост, или когато коригираният пакет стане достъпен, същият протокол за съобщения ще бъде използван за уведомяване на всички потребители и тестери на този пакет (включително зависими лица), че уязвимостта е била идентифицирана, 
и се надяваме отстранена, за да знаят, че е необходимо да актуализират своето приложение или зависимости. 
За да се демотивира загубата на време от страната на разработчиците, комуникацията между tea дегустаторите и поддържащите пакети ще изисква от tea дегустаторите да "заключват" tea токени. 

След завършване на двете операции tea дегустаторите ще получат NFT като доказателство за тяхната работа върху конкретния пакет и версията на пакета. 
Събирането на NFT, съчетано със съотношението на накисване на "всеки" от прегледаните пакети и информацията, извлечена от външни системи, ще повлияе на репутацията на tea дегустатора.
След като репутацията им достига ключови етапи, tea дегустаторите могат да спечелят достъп до по-висши части от протокола или по-бързо да получат награди, както бъде решено от tea управлението. 

## Остарели или повредени пакети

Mисията на tea е да възнаграждава сътрудниците и участниците в общностите с отворен код; наградите обаче трябва да са съизмерими с усилията, положени от участниците поддържащите пакети и tea дегустаторите.
Недостатъчно поддържаните, остарели или повредени пакети са ясни индикации, че участниците, поддържащите пакети не отговарят на очакванията на общността или не отговарят на доверието и подкрепата, внушени им чрез "накисването" на пакетите. 
Друг показател на остарели пакети може да бъде продължаващото използване на остарял език или остаряла версия на език с няколко вресии. 
Пакетите, които остават твърде дълго време остарели или повредени, показват, че e необходимо tea дегустаторите редовно и последователно да преглеждат работата на поддържащите пакета. 

tea дегустаторите са важни членове на общностите с отворен код, тъй като техните рецензии и свързани твърдения могат да насочват потребителите на пакети към тях или съответно да ги откажат от пакетите. 
За да се гарантира, че на рецензиите може да се вярва на непрекъснат базис, ние предлагаме механизъм, чрез който остарелите или повредени пакети могат да видят част от техните заключени токени, изпратени към tea дегустаторите, които първи разпознаха липсата на поддръжка на който и да е пакет.

Всеки преглед с отрицателен резултат, който подчертава недостатък като уязвимост от типа zero-day или използване на остаряла зависимост и остава отворен след гратисен период, определен от управлението, трябва да се счита за неуспешен от страна на поддържащия пакета. 
Той не е изпълнил задачата, която е била поверена и за която са наградени. 
Същото може да се каже за поддръжниците и спонсорите на пакети, които са заложили репутацията си на работата на участниците, недобросъвестно поддържащи пакети и са получили награди за това, но не са успели да идентифицират липсата на поддръжка или са избрали да продължат да поддържат пакета независимо от това. 

След като пакетите набират популярност и използване, с повече приложения и потенциално критични системи, зависещи от тях, ние трябва да стимулираме разработчиците да докладват дискретно за недостатъците на поддържащия пакет и участниците поддържащите пакети да отстранят тези недостатъци, преди да могат да бъдат експлоатирани. 
Затова, ние предлагаме за всеки остарял или повреден пакет, който е обект на една или повече доказани рецензии с отрицателен резултат и остава в такова състояние след определения от управлението гратисен период, да се намали част от неговите натрупани токени, независимо от техния произход (поддръжка на пакет, пакет поддръжници и спонсори или предишни tea дегустатори), 
докато друга част се изпраща към tea дегустаторите, които са изпратили отрицателните отзиви след прегледа.
Разпределението към всички tea дегустатори може да бъде базирана върху давността на техния преглед и броя tea токени, които те са "заключили" за да направят своя преглед. 

## Поддържащи NFT

След успешно подаване на пакет, участника поддържащ пакета ще получи NFT, за да се докаже неговата работа и принос. 
Притежателят на този NFT автоматично получава всички награди, свързани с пакета. 
Поддържащите пакети имат възможност да прехвърлят собствеността върху поддръжката на пакет към друг поддържащ пакет, като просто прехвърлят NFT към пакета. 
Успешното прехвърляне на NFT ще доведе до автоматично получаване на бъдещи пакетни награди към новия собственик. 

Важен момент при изграждането на репутация разчита на честотата и количеството на подаваните качествени пакети.
NFT получени от поддържащите пакети като доказателство за тяхната работа, могат да бъдат използвани от системата за репутация, за да се актуализира репутацията на поддържащия пакет и да им даде достъп до по-високи нива от протокола, както е решено от tea управлението. 
Обаче, за предотвратяване на евентуалните вектори на атаки, като например купуване на репутацията на членове от общността, прехвърлянето на поддържащите NFT, те няма да доведат до прехвърляне и на репутация. 
Репутацията трябва да остане пряко свързана с работата на конкретен разработчик и не трябва да се прехвърля. 

# Токен tea 

## Защита на мрежата

Докато голям брой блокчейни може да изглеждат като ефективни и сигурни инфраструктурни решения в подкрепа на целите на tea проекта, ние вярваме, че трябва да се обърне  внимание и на технологичния стек, върху който е изградена системата на проекта tea. 

Мащабируемост, рентабилност, ESG и разширяемост от трети страни са важни аспекти при проектиране, които една суверенна proof-of-stake система би могла да обслужва по-добре. 
В системата proof-of-stake, операторите на ноди и участниците в мрежата залагат икономическата стойност под формата на основният токен на мрежата, за увеличаване сигурността на системата. 
Операторите на ноди и участниците в мрежата получават награди за успешното производство на блокове, които отговарят на правилата на мрежата и включват точна информация за транзакциите.
Неактивност (известна още като спиране на възел или нода) или злонамерена/неправилна дейност се санкционират чрез унищожаване на част от стейкваните токени чрез слашинг. 

Системата proof-of-stake, осигурена от токена tea, ще позволи на притежателите на токена да допринасят за сигурността на системата чрез tea *стейкинг* и да подкрепят разработчиците с отворен код чрез tea *накисване*. 
Наясно сме с факта, че икономическите фактори могат да попречат на някои разработчици да стейкват или "накисват" tea токена; съответно процедурите като, стейкинг и "накисване" ще бъдат достъпни за малки стойности или количества като например един лист/leaf, което е най-малката номинална стойност на tea, представляваща една стомилионна ($10^{-8}$) от tea. 

И двете приложения на tea токенa изпълняват жизненоважни функции в подкрепата и растежа на екосистемата с отворен код. 
Стейкинг на токена tea ще гарантира, че tea системата ще продължи да работи сигурно, така че всички участници в мрежата да могат да изпращат и имат достъп до пакети, за да ги прегледат, да ги интегрират в своето приложение и т.н. 
За разлика от това, "накисването" на tea ще подкрепи целта на tea за предоставяне на инструменти за всички участници в мрежата за поддръжка и използване на пакети, които отговарят на изискванията за качество и надеждност, както e формулиранo от tea общността чрез тяхната подкрепа и несъгласие с всеки пакет. 
Ще се внимава при дефинирането и прилагането на параметри за стейкинг и "накисване" така че единият да не влияе отрицателно върху другия.

## Стимули и наказания

Както беше обсъдено по-рано, недобросъвестните участници имат добри финансови стимули за да компрометират софтуери с отворен код. 
По-голямата част от важната Интернет инфраструктура работи с отворен код и надпреварата за откриване на експлойти и други уязвимости продължава. 
В компанията tea, ние вярваме, че не само поддържащите пакети са тези, които трябва да бъдат обвинявани (въпреки че често са). 

Стимулите на протокола tea коригират тази ситуация чрез честно и справедливо разпределение на стимулите. 
Пакет като Lodash с над 151 000 зависими компоненти е основен при разработката с отворен код и неговият поддържащ заслужава да бъде възнаграден пропорционално. 
Въпреки това, система за възнаграждение, изградена единствено въз основа на броя на зависимостите, ще попречи на иноваторите да разрушат тези монополи, освен ако не са достатъчно финансирани от трети страни или вече са натрупали достатъчно ресурси, за да се самофинансират. 
Този подход вероятно ще доведе до намаляване на броя на участниците, което ще доведе до пълна противоположност на идеята, която представлява чай. 

Целта на tea е да представи стойността на софтуера с отворен код и по този начин да насърчи растежа му, като предостави на участниците ресурсите, от които се нуждаят, за безпроблемно следване на целта си. 
Системата за разпределение на tea стимули внимателно преценя съотношението на "накисване" на всеки пакет и съответно коригира стимулите за него. 
За намаляване риска от това, че малък брой пакети, използвани като зависимости в много приложения, събира по-голямата част от наградите, ние ще използваме изследването, извършено от web3 Foundation[^19] за механизъм за възнаграждения, базиран на proof-of-stake механизъм от Polkadot.
Можем допълнително да коригираме изпълнението и неговите променливи въз основа на резултатите от практически експерименти. 

Тъй като процеса на "накисване" на пакета се доближава до дефинирано от управлението оптимално съотношение на накисване, съотношението на възнаграждение за "накисване" ще намалява прогресивно. 
Когато даденият пакет превиши оптималното си съотношение на "накисване", съотношението на наградите за "накисване" ще намалее рязко, за да дестимулира поддръжниците на пакета и tea дегустаторите от допълнително "накисване" на вече силно "накиснати" пакети. 
Такъв вид дизайн позволява на по-слабо напоените пакети да станат по-привлекателни както за привържениците на пакета, така и за tea дегустаторите. 
Тази процедура може да стимулира опитните разработчици за създаване на алтернативи на силно "накиснатите" пакети, създавайки възможност за tea общността да балансира поддържането на съществуващ софтуер и насърчаването на иновациите. 
Коефициентът на "накисване" ще бъде изчислен, чрез използване на циркулационното захранване в първоначалния му проект. 
tea общността може да промени този дизайн, за да подобри допълнително мащабируемостта на системата. 
Нека $\chi$ да представлява коефициент на "накисване" във всички пакети.
Той представлява общия брой tea токени, "напоени" от участниците, поддържащи пакети, от потребителите на пакети, поддръжниците и спонсори на пакети и tea дегустаторите, разделен на общото предлагане на teа токени. 
Имайки предвид колко пакети с отворен код са налични днес и очакваният им растеж, $\chi$ винаги ще бъде много малка стойност между $0$ и $1$. 

Нека $\psi$ да е съотношението при стейкинг.
Той представлява общия брой tea токени, в стейкинг от всеки участник в мрежата за защита на самата мрежата. 

Нека $\chi_{ideal}$ да бъде коефициентът на "накисване", който бихме искали всеки пакет да постигне за справедливо разпределение на наградите във всички пакети и техните зависимости. 
Стойността $\chi_{ideal}$ трябва да се актуализира при добавяне на нови пакети към децентрализирания регистър и създаване на зависимости. 
За да определим най-добрата стойност за $\chi_{ideal}$, ще използваме камбанна крива на популярността, актуализирана в началото на всеки цикъл на възнаграждение.

Нека $\tau = \tau(\chi)$ представлява годишният лихвен процент за "накисване", разпределен към всички членове на tea общността, които заключват tea токените в подкрепа на разработчиците с отворен код. 
С други думи, $\tau(\chi)$ съответства на наградата за "накисване", получавана в рамките на една година от член на общността, който е "накисвал" tea токени през цялата година. 

Нека $\gamma = \gamma(\psi)$ представлява годишнен лихвен процент при стейкинг, разпределен на всички оператори на възли и участници в мрежата, които стейкват tea токени, осигурявайки сигурността на мрежата. 
С други думи, $\gamma(\psi)$ съответства на стейкинг наградата, получена за една година от член на общността, който стейква tea токени през цялата година. 

Нека $\delta$ е годишна инфлация, насочена към хазната на мрежата. 
$\delta$ може да варира, тъй като различни външни фактори влияят на токен съплая. 

Ние разглеждаме годишната ставка на възнаграждение за накисване като функция на $\chi$ и годишната ставка на възнаграждение за стейкинг като функция на $\psi$.

* $\tau(\chi)$ съответства на стимул за хората да "накиснат" пакети. 
Тъй като $\chi$ се увеличава, са необходими по-малко награди  $\tau(\chi)$ .
* $\gamma(\psi)$ съответства на стимул за хората за да използват стейкинг в мрежата.
С нарастването на $\psi$ са необходими по-малко награди $\gamma(\psi)$ за сигурността на мрежата.

Годишната инфлация $I$ ще бъде еквивалентна на $(\tau + \gamma + \delta)$ и се изчислява, както следва::

$$
I = \frac{\textrm{токен съплай към края на годината} - \textrm{токен съплай в началото на годината}}{\textrm{токен съплай в началото на годината}} = (\tau + \gamma + \delta)
$$

Приносът към инфлацията на $\tau_{{all}}$ (награди, разпределени на всички пакети, които се "накисват") и $\gamma_{{all}}$ (награди, разпределен между всички участници в сигурността на мрежата) трябва да се претегли, за да се гарантира, че системата стимулира оптималното съотношение на "накисване"/стейкинг. 

Тъй като се фокусираме върху стимулите, разпределени между всички пакети, ние определяме следното
$\tau_{{all}}$
е функция на съотношението на накисване $\chi$ и следователно
$\tau_{{all}}(\chi) = \chi \cdot \tau(\chi)$.
От предишния ни анализ можем да видим това
$\tau_{{all}}(\chi_{ideal}) = \chi_{ideal} \cdot \tau_{ideal}$.
Тъй като целта е да се достигне състояние, в което
$\chi = \chi_{ideal}$
, наградите
$\tau_{ideal}(\chi)$
трябва да са максимални при тази стойност.

Нека $\tau_{ideal} = \tau(\chi_{ideal})$
бъде процентът на възнаграждение, предоставен от мрежата при идеалния сценарий, където
$\chi = \chi_{ideal}$.

Нека $\tau_{0}$ представлява лимит  $\tau_{{all}}(\chi)$ като $\chi$ отива до нула, когато никой от членовете на tea общността не "накисва" никакви пакети.
Стойността на $\tau_{0}$ трябва да бъде близо до нула, но не и нула, за да стимулира ранните участници и последователи. 
Както беше предложено от изследването на фондация web3, ние предлагаме, че:

* функцията на инфлацията нараства линейно между $\chi = 0$ and $\chi = \chi_{ideal}$, и
* тя се разпада експоненциално между $\chi = \chi_{ideal}$ и $\chi = 1$.

Избрахме подобно експоненциално намаление за $\tau_{{all}}(\chi)$ защото предполага експоненциално намаляване на $\tau(\chi)$, и искаме наградите да паднат рязко под $\chi_{ideal}$ за да предотвратим получаването на всички награди от един пакет.

Намаляването се определя така, че темпът на инфлация намалява с най-много 50%, когато  $\chi$ shifts $d$ единици вдясно от $\chi_{ideal}$ – например.
$\tau_{{all}}(\chi_{ideal} + d) \geq \tau_{{all}} \cdot 0.5$.

Ние предлагаме следните функции на лихвения процент и инфлация, които зависят от параметрите $\chi_{ideal}$, $\tau_{ideal}$, $\tau_{0}$ and $d$.

\begin{align*}
&\tau_{{all}}(\chi) = \tau_{0} + (\tau_{{all}}(\chi_{ideal}) - \tau_{0})\frac{\chi}{\chi_{ideal}}\enspace\textrm{for}\;0 < \chi \leq \chi_{ideal} \\
&\tau_{{all}}(\chi) = \tau_{0} + (\tau_{{all}}(\chi_{ideal}) - \tau_{0}) \cdot 2^{(\chi_{ideal}-\chi)/d}\enspace\textrm{for}\;\chi_{ideal} < \chi \leq 1
\end{align*}

Точно както съвестните участници трябва да бъдат възнаградени; недобросъвестните такива трябва да бъдат идентифицирани и наказани. 
Софтуерът с отворен код предоставя много възможности за недобросъвестните участници да създават критични моменти и репутационни рискове за цялата общност от разработчици. 
От злоупотребата с работния процес до промяната и преразпределението на софтуерни пакети или внедряването на престъпен код, войната между добрите и лошите участници продължава, често с добре финансирани недобросъвестни участници, които виждат възможност да навредят на пакетите с отворен код за да се облагодетелстват финансово. 
Обратното въздействие е сравнително минимално, като пакетите потенциално са забранени от дигиталните рафтове или са подложени на лоша репутация. 

Ние предлагаме да се въведе слашинг механизъм, за да се установят по-съществени недостатъци, който пряко засягат финансовото стимулиране на недобросъвестните участници. 
Тъй като tea дегустаторите оценяват и анализират кода в новоподадените пакети, ние предлагаме на tea дегустаторите да получават необходими инструменти и стимули за определяне и подчертаване на злонамерен код, така че потребителите на пакети да могат да бъдат информирани за рисковете, а участните, поддържащи пакети, поддръжниците на пакети и спонсорите да бъдат санкционирани за изпращане или поддържане на злонамерен код. 
В тази връзка, за всички доказани прегледи с отрицателен резултат, извършени съгласно правилата на мрежата, които са били разгледани и премахнати от поддържащия пакета в рамките на определения от управлението период, поддържащият пакета не трябва да понася никакви санкции в противоречие с поддръжниците и спонсорите на пакета или tea дегустаторите, които дават положителен преглед на въпросния пакет. 
За отрицателни прегледи, извършени съгласно правилата на мрежата и които поддържащият пакета не е разгледал в рамките на определения от управлението период, част от токените, "напоени" от участника поддържащия пакет, поддръжниците и спонсорите на пакета и предишните tea дегустатори ще бъдат намалени. 
Другата част ще бъде заключена в застрахователен пул, контролиран от управлението на tea проекта. 
Управлението на tea проекта ще установи необходимите политики и правила в тясно сътрудничество с общността за разпространение на съдържанието на пула към тези засегнатите от уязвимости. 
Протоколът ще разпредели една трета част от "напоените" токени между всички tea дегустатори, допринесли за прегледа с отрицателен резултат, токени, които те са "накиснали" срещу пакета, въз основа на броя tea токени които са заключили „срещу“ пакета, и колко време са били "накисвани". 
С други думи, колкото по-скоро един или повече tea дегустатори идентифицират и докладват за недостатъците според правилата на мрежата, толкова по-висока награда ще получат за поддържане на безопасна и продуктивна разработка с отворен код. 

За да попречат на членовете на общността да гласуват на случаен принцип „против“ силно "напоени" пакети, надявайки се да получат по-голямата част от гласовете, всички tea токени, "напоени" „против“, няма да бъдат засегнати от инфлация и може да бъдат обект на механизъм на разпадане, като по този начин намаляват стойността си с течение на времето . 

[^19]: Source: @web3


# Governance

Governance is critical to the development, sustainability, and adoption of any distributed system.

We propose that tea includes on-chain governance where all tea token holders can suggest and vote on changes to critical parameters weighted by token ownership and reputation.
These parameters could include inflation, transaction fees, staking rewards, steeping rewards, or optimum steeping ratio.
This functionality will ensure that critical parameters can evolve and be optimized over time by members of the tea community.
We anticipate governance will launch with a simple structure and progressively expand as the tea system matures, facilitating adoption and ensuring progressive decentralization.

Some system parameters may not be subject to governance or support high-frequency changes to reduce the attack surface represented by governance.
A progressive transition of parameters to open, decentralized governance will ensure the stability and predictability of the system.


# Third-Party Extensibility

As we build the initial tools to ignite the long-overdue support of the open-source communities, we believe part of our mission is to ensure that third parties can extend the overall toolset.
In addition to providing the infrastructure for developers to build extensions to the protocol, including new ways to innovate and further the support of open-source developers, our plans include the potential for other package managers to contribute to the protocol.
The dreams and efforts of open-source developers have built the innovation that supports our everyday life.
We look forward to discovering the new uses and extensions for tea proposed by the tea community.


# Future Work and Potential Community Efforts

As the tea system matures, we foresee the community deciding and contributing to alterations and extensions of the tea system through governance.
Below are some ideas that we believe may inspire some.

## tea Wholesalers

Open-source software communities are vibrant and constantly looking to innovate and deliver value.
This dedication and altruism lead to the constant building of new software and packages, each one pulling dependencies.
As a result, we anticipate the dependencies map to evolve constantly, leading to frequent changes to the steeping ratio and rewards.
In the future, the tea community may propose the development of a system designed to dynamically monitor the steeping ratio for each package and rebalance how package supporters steep their tokens based on their own criteria.

## Royalties on Package Transfer

We recognize that package maintainers may decide to transfer their steeping rewards stream to one or more developers.
The governance of such transfer must remain the decision of the package maintainer and their partners, with no interference from tea.
Tools will need to be provided for such transfer to be total or partial (perhaps through only a portion of the steeping rewards being redirected to one or more developers, while the remaining rewards continue to flow to the original package maintainer)
and for the steeping rewards to flow through a single account controlled by a single network participant, multiple network participants, or automatically distributed across multiple accounts using static or dynamic ratios.

## Rewards Distribution Across Multiple Maintainers

The maintenance of a package can rely on the work of one more team of developers.
Before steeping rewards start to flow, teams should consider automating the distribution of steeping rewards amongst themselves.
How the distribution occurs must be decided by the maintainers themselves, as they are in the best position to evaluate who contributed and how they should be rewarded.

To accomplish that, each team (or teams) could set up their own decentralized autonomous organization (DAO) and either automate the distribution of rewards or deploy more complex systems to determine the adequate rewards distribution based on external factors such as a vote from all DAO members,
or time-based distributions based on continuous contribution, successful completion of bounties, etc.

## Handling Package “Forks”

We believe that forks are essential and largely under-utilized.
Forks can be an effective tool for developing packages that compete in functionality, performance, security, and even attention.
As useful as they may be, forks must recognize the original efforts.
Through future work or potential contributions, the tea community may enhance the system to require forks to be declared, perhaps even detected when a package is submitted.
Undeclared forks revealed by tea tasters may result in a portion of the steeped tokens being slashed, transferred to the original package maintainer, and sent to the tea tasters who revealed the fork.

## Runtime vs. Build Dependencies

tea may not distinguish build dependencies from runtime dependencies when distributing steeping rewards at launch.
However, provided the tea community feels strongly about making such a distinction, the tea community may propose enhancements to the steeping rewards distribution algorithm to account for the criticality of each dependency and their contribution to the value of the packages that depend upon them.
These proposals would be voted upon and implemented based on the community’s decision.

## Usage-based Remuneration

As more applications are built using packages registered with tea, the community may augment the reward algorithm so that allocation may be influenced by external attested datasets such as usage.
This update to the rewards mechanism could allow for a higher allocation of tea token rewards to flow towards packages with the highest usage while still respecting the constraints of the steeping ratio described in the tea token section.
Package maintainers could use a similar approach to distribute steeping rewards across their dependencies based on the transparent logic of their choice.
Note that all information used to affect the distribution of rewards across packages and dependencies in the tea system will need to be provably reliable.


# Acknowledgments

This white paper would not exist without the support and dedication of many teaophiles.
The authors would like to acknowledge Josh Kruger, Jadid Khan, and Jacob Heider for their contribution to the tokenomics and the many discreet individuals who volunteered their time to provide feedback on the contents of this document.

$\parskip=0pt plus 1pt$

# Glossary of Terms

| Term | Definition |
|------|------------|
| Leaf | The smallest denomination of the tea token. A leaf corresponds to one one-hundred-millionth ($10^{-8}$) of a tea. |
| Slashing | The action of penalizing steepers or stakers in response to behavior contrary to the network rules. |
| Staking | The action of locking tea tokens to secure the proof-of-stake network upon which the tea system is built. |
| Steeping | The action of locking tea tokens to support your claim and receive rewards (or penalties) based on the consensus on the validity of your claim. |


# References
